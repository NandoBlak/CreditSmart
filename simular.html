<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Simular Crédito - CreditSmart</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .simular-layout{
      max-width:820px;
      margin:0 auto;
      padding:2rem 1rem;
      display:flex;
      flex-direction:column;
      gap:1.75rem;
    }
    .sim-header{
      background:var(--primary-gradient);
      color:#fff;
      padding:2rem 2.25rem;
      border-radius:var(--border-radius);
      box-shadow:0 4px 20px rgba(102,126,234,0.3);
      animation: fadeIn 0.6s ease-out;
    }
    .sim-card{
      background:rgba(255,255,255,0.95);
      padding:2rem;
      border-radius:var(--border-radius);
      box-shadow:var(--card-shadow);
      backdrop-filter:blur(10px);
      border:1px solid rgba(255,255,255,0.8);
      display:flex;
      flex-direction:column;
      gap:1.5rem;
      transition:var(--transition);
      animation: cardFadeIn 0.5s ease-out backwards;
    }
    .sim-card:hover{
      box-shadow:var(--card-shadow-hover);
      transform:translateY(-4px);
    }
    .sim-card:nth-child(2){animation-delay:0.1s}
    .sim-card:nth-child(3){animation-delay:0.2s}
    .sim-card:nth-child(4){animation-delay:0.3s}
    .sim-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
      gap:1.25rem;
    }
    .sim-group{
      display:flex;
      flex-direction:column;
      gap:0.5rem;
    }
    .sim-group label{
      font-size:.8rem;
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:1px;
      color:#4a5568;
    }
    .sim-group input{
      width:100%;
      padding:.75rem 1rem;
      border:2px solid rgba(102,126,234,0.2);
      border-radius:10px;
      font-size:1rem;
      background:white;
      transition:var(--transition);
      font-family:'Inter', sans-serif;
    }
    .sim-group input:focus{
      outline:none;
      border-color:#667eea;
      box-shadow:0 0 0 3px rgba(102,126,234,0.1);
      transform:translateY(-2px);
    }
    .result-box{
      background:linear-gradient(135deg, #eef6ff 0%, #e3f2fd 100%);
      padding:1.25rem;
      border-radius:12px;
      font-size:1rem;
      border-left:4px solid #667eea;
    }
    .badge-tasa{
      background:var(--primary-gradient);
      color:#fff;
      padding:.5rem .85rem;
      border-radius:8px;
      font-size:.85rem;
      font-weight:700;
      display:inline-block;
      box-shadow:0 2px 10px rgba(102,126,234,0.3);
    }
    .back-link{
      color:rgba(255,255,255,0.95);
      text-decoration:none;
      font-size:.95rem;
      font-weight:500;
      display:inline-flex;
      align-items:center;
      gap:0.35rem;
      transition:var(--transition);
    }
    .back-link:hover{
      color:white;
      transform:translateX(-4px);
    }
    @media (max-width: 768px){
      .simular-layout{padding:1rem 0.75rem}
      .sim-header{padding:1.5rem 1.25rem}
      .sim-card{padding:1.5rem}
      .sim-grid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <div class="simular-layout">
    <div class="sim-header">
      <a href="simulador.html" class="back-link">← Volver al simulador</a>
      <h1 style="margin:.75rem 0 0 0;font-size:2rem;font-weight:800;letter-spacing:-0.5px">Simular Crédito</h1>
      <p class="slogan" style="margin:.5rem 0 0 0;font-size:1.1rem;color:rgba(255,255,255,.95);font-weight:400">Ajusta monto y plazo para ver tu cuota estimada.</p>
    </div>

    <div class="sim-card" id="producto-box" aria-live="polite">
      <div style="display:flex;gap:1rem;align-items:center;">
        <div id="producto-icon" class="product-icon" style="width:64px;height:64px"></div>
        <div>
          <h2 id="producto-nombre" style="margin:0;font-size:1.5rem;font-weight:700;color:#1a202c"></h2>
          <div class="small-muted" id="producto-plazo" style="margin-top:0.25rem"></div>
          <div style="margin-top:.5rem"><span class="badge-tasa" id="producto-tasa"></span></div>
        </div>
      </div>
      <p class="small-muted" id="producto-montos"></p>
    </div>

    <form class="sim-card" id="form-simulacion" onsubmit="return false" novalidate>
      <h3 style="margin:0;font-size:1.4rem;font-weight:700;color:#2d3748">Parámetros de simulación</h3>
      <div class="sim-grid">
        <div class="sim-group">
          <label for="monto">Monto (principal)</label>
          <input type="number" id="monto" min="0" step="10000" required>
        </div>
        <div class="sim-group">
          <label for="meses">Plazo (meses)</label>
          <input type="number" id="meses" min="1" step="1" required>
        </div>
        <div class="sim-group">
          <label>Tasa anual fija</label>
          <div id="tasa-anual-fija" class="result-box" style="padding:.55rem .65rem;background:#fff;border:1px solid #cbd5e0">Cargando…</div>
        </div>
      </div>
      <div style="display:flex;gap:1rem;flex-wrap:wrap">
        <button class="btn-primary" id="btn-calcular" type="button">Calcular cuota</button>
        <button class="btn-outline" id="btn-reset" type="button">Restablecer</button>
        <button class="btn-outline" id="btn-volver" type="button" title="Volver al listado">Volver</button>
      </div>
      <div id="resultados" class="result-box" style="display:none"></div>
    </form>

    <div class="sim-card" id="nota" style="font-size:.9rem;color:#4a5568;background:rgba(102,126,234,0.05);border-left:3px solid #667eea">
      <strong style="color:#667eea">Nota:</strong> Cálculo estimado. Convierte la tasa efectiva anual a tasa equivalente mensual usando (1 + i_a)^(1/12) - 1. Fórmula cuota: P * i / (1 - (1+i)^(-n)).
    </div>
  </div>

  <script src="js/bootstrap.bundle.min.js" defer></script>
  <script src="js/simular.js" defer></script>
</body>
</html>