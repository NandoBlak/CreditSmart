<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Simular Crédito - CreditSmart</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .simular-layout{max-width:760px;margin:2rem auto;display:flex;flex-direction:column;gap:1.25rem}
    .sim-header{background:#2b6cb0;color:#fff;padding:1rem 1.25rem;border-radius:10px}
    .sim-card{background:#fff;padding:1.25rem;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,.08);display:flex;flex-direction:column;gap:1rem}
    .sim-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}
    .sim-group label{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#2d3748}
    .sim-group input{width:100%;padding:.6rem .7rem;border:1px solid #cbd5e0;border-radius:6px;font-size:.95rem;background:#fff}
    .sim-group input:focus{outline:2px solid #2b6cb0;outline-offset:2px}
    .result-box{background:#eef6ff;padding:.9rem;border-radius:8px;font-size:.9rem}
    .badge-tasa{background:#2b6cb0;color:#fff;padding:.35rem .55rem;border-radius:6px;font-size:.75rem;font-weight:600}
    .back-link{color:#2b6cb0;text-decoration:none;font-size:.85rem}
    .back-link:hover{text-decoration:underline}
  </style>
</head>
<body>
  <div class="simular-layout">
    <div class="sim-header">
      <a href="simulador.html" class="back-link">← Volver al simulador</a>
      <h1 style="margin:.4rem 0 0 0;font-size:1.5rem">Simular Crédito</h1>
      <p class="slogan" style="margin:.35rem 0 0 0;font-size:.95rem;color:rgba(255,255,255,.9)">Ajusta monto y plazo para ver tu cuota estimada.</p>
    </div>

    <div class="sim-card" id="producto-box" aria-live="polite">
      <div style="display:flex;gap:1rem;align-items:center;">
        <div id="producto-icon" class="product-icon" style="width:64px;height:64px"></div>
        <div>
          <h2 id="producto-nombre" style="margin:0;font-size:1.3rem"></h2>
          <div class="small-muted" id="producto-plazo"></div>
          <div style="margin-top:.25rem"><span class="badge-tasa" id="producto-tasa"></span></div>
        </div>
      </div>
      <p class="small-muted" id="producto-montos"></p>
    </div>

    <form class="sim-card" id="form-simulacion" onsubmit="return false" novalidate>
      <h3 style="margin:0">Parámetros de simulación</h3>
      <div class="sim-grid">
        <div class="sim-group">
          <label for="monto">Monto (principal)</label>
          <input type="number" id="monto" min="0" step="10000" required>
        </div>
        <div class="sim-group">
          <label for="meses">Plazo (meses)</label>
          <input type="number" id="meses" min="1" step="1" required>
        </div>
        <div class="sim-group">
          <label>Tasa anual fija</label>
          <div id="tasa-anual-fija" class="result-box" style="padding:.55rem .65rem;background:#fff;border:1px solid #cbd5e0">Cargando…</div>
        </div>
      </div>
      <div style="display:flex;gap:.75rem;flex-wrap:wrap">
        <button class="btn-primary" id="btn-calcular" type="button">Calcular cuota</button>
        <button class="btn-outline" id="btn-reset" type="button">Restablecer</button>
        <button class="btn-outline" id="btn-volver" type="button" title="Volver al listado">Volver</button>
      </div>
      <div id="resultados" class="result-box" style="display:none"></div>
    </form>

    <div class="sim-card" id="nota" style="font-size:.8rem;color:#4a5568">
      <strong>Nota:</strong> Cálculo estimado. Convierte la tasa efectiva anual a tasa equivalente mensual usando (1 + i_a)^(1/12) - 1. Fórmula cuota: P * i / (1 - (1+i)^(-n)).
    </div>
  </div>

  <script src="js/bootstrap.bundle.min.js" defer></script>
  <script src="js/simular.js" defer></script>
</body>
</html>